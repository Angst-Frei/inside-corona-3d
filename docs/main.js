(()=>{"use strict";var e,n={8138:(e,n,i)=>{var o=i(5689),t=i(4376),s=i(9477),l=i(3844),r=i.n(l),d=i(2698),a=i.n(d),c=i(9315),h=i.n(c),u=i(3171),g=i(1529);const f=new(a());fetch("json/inside-corona.json").then((e=>e.json())).then((e=>{e.nodes.forEach((e=>{f.addNode(e.id)})),e.links.forEach((e=>{f.addUndirectedEdgeWithKey(e.id,e.source,e.target)})),h().assign(f,{getEdgeWeight:null}),console.log("Number of nodes",f.order),console.log("Number of edges",f.size),e.nodes.forEach((e=>{e.community=f.getNodeAttribute(e.id,"community")}));let n=e.nodes.map((e=>e.community));const i=[...new Set(n)].sort(((e,n)=>e-n));e.links.forEach((n=>{const i=e.nodes[n.source],o=e.nodes[n.target];!i.neighbors&&(i.neighbors=[]),!o.neighbors&&(o.neighbors=[]),i.neighbors.push(o),o.neighbors.push(i),!i.links&&(i.links=[]),!o.links&&(o.links=[]),i.links.push(n),o.links.push(n)}));const l=new Set,d=new Set;let a=null,c=null;const m=(0,o.Z)()(document.getElementById("graph")).nodeThreeObject((e=>{const n=(new s.dpR).load(`${e.image}`),i=new s.xeV({map:n}),o=new s.jyi(i);return o.scale.set(14,14),o})).height(document.querySelector("#graph").offsetHeight).showNavInfo(!1).graphData(e).dagMode(null).nodeLabel("title").linkLabel("title").linkWidth((e=>d.has(e)?1:.5)).linkOpacity(.4).linkDirectionalParticles((e=>d.has(e)?2:0)).linkDirectionalParticleColor((()=>"red")).linkDirectionalParticleSpeed(.005).linkDirectionalParticleWidth(1).onNodeHover((e=>{!e&&!l.size||e&&c===e||(l.clear(),d.clear(),e&&(l.add(e),e.neighbors.forEach((e=>l.add(e))),e.links.forEach((e=>d.add(e)))),c=e||null,w())})).onLinkHover((e=>{l.clear(),d.clear(),e&&(d.add(e),l.add(e.source),l.add(e.target)),w()})).onNodeClick(((n,i)=>{document.getElementById("info").innerHTML="<h2>"+n.title+'</h2><img src="'+n.image+'" align="left"><p>Group: '+n.group+"</p><p>"+n.notes+"</p>",(i.ctrlKey||i.shiftKey||i.altKey)&&a?(function(n,i){let o=e.nodes,t=e.links,s=(0,u.Ar)(f,n,i),l=s.map(Number),r=(0,g.B)(f,s).map(Number);o=o.filter((e=>l.includes(e.id))),t=t.filter((e=>r.includes(e.id))),m.graphData({nodes:o,links:t}).numDimensions(p.Dimensions)}(a,n.id),a=null):a=n.id})).onBackgroundClick((e=>{m.zoomToFit(400)})).onNodeRightClick((e=>{let n=new RegExp(e.title,"gi");""!=p.Search&&null===p.Search.match(n)?p.Search=p.Search+"|^"+e.title+"$":""==p.Search&&(p.Search="^"+e.title+"$");let{nodes:i,links:o}=S();m.graphData({nodes:i,links:o}),m.numDimensions(p.Dimensions)})).onNodeDragEnd((e=>{e.fx=e.x,e.fy=e.y,e.fz=e.z})).onLinkClick((e=>{e.link.length&&(window.open(e.link),window.focus())}));r()().listenTo(document.getElementById("graph"),(e=>m.width(e.offsetWidth)));const p={Orientation:null,"Link Length":80,Dimensions:3,Search:"",Simplify:1,"Link Force":!1,"Hide Info Panel":!1},k=new t.XS,y=k.addFolder("General");y.add(p,"Simplify",1,10,1).listen().onChange((function(){let{nodes:e,links:n}=S();m.graphData({nodes:e,links:n}),m.numDimensions(p.Dimensions)})),y.add(p,"Link Length",0,200).listen().onChange((function(){p["Link Force"]=!1,m.d3Force("link").distance(p["Link Length"]),m.numDimensions(p.Dimensions)})),y.add(p,"Hide Info Panel").listen().onChange((function(){p["Hide Info Panel"]?(document.getElementById("info").style.display="none",document.getElementById("graph").style.height="100vh",m.height(document.querySelector("#graph").offsetHeight).zoomToFit(400)):(document.getElementById("info").style.display="block",document.getElementById("graph").style.height="70vh",m.height(document.querySelector("#graph").offsetHeight).zoomToFit(400))}));const D=y.add(p,"Search").listen().onFinishChange((function(e){let{nodes:n,links:i}=S();m.graphData({nodes:n,links:i}),m.numDimensions(p.Dimensions)}));y.open();const b=k.addFolder("Groups");e.groups.forEach((e=>{p[e]=!0,b.add(p,e).listen().onChange((function(){let{nodes:e,links:n}=S();m.graphData({nodes:e,links:n}),m.numDimensions(p.Dimensions)}))}));const E=k.addFolder("Advanced");E.add(p,"Orientation",[null,"td","bu","lr","rl","zout","zin","radialout","radialin"]).onChange((e=>m&&m.dagMode(e)&&m.numDimensions(p.Dimensions))),E.add(p,"Dimensions",["2","3"]).onChange((e=>m&&m.dagMode(p.Orientation)&&m.numDimensions(e))),E.add(p,"Link Force").listen().onChange((function(){p["Link Force"]?(m.d3Force("link").distance((e=>1/(e.source.neighbors.length+e.target.neighbors.length)*1e3)),m.numDimensions(p.Dimensions)):(m.d3Force("link").distance(p["Link Length"]),m.numDimensions(p.Dimensions))}));const v=E.addFolder("Louvain-Communities");function S(){let n=e.nodes,o=e.links,t=[];p.Simplify>1&&(n=n.filter((e=>e.neighbors.length>=p.Simplify)),n.forEach((e=>{t.push(e.id)})),o=o.filter((e=>t.includes(e.source.id)&&t.includes(e.target.id))));let s=[];e.groups.forEach((n=>{p[n]&&e.nodes.filter((e=>e.group==n)).forEach((e=>{s.push(e.id)}))})),s=[...new Set(s)],n=n.filter((e=>s.includes(e.id))),o=o.filter((e=>s.includes(e.source.id)&&s.includes(e.target.id)));let l=[];if(i.forEach((n=>{p[n]&&e.nodes.filter((e=>e.community==n)).forEach((e=>{l.push(e.id)}))})),n=n.filter((e=>l.includes(e.id))),o=o.filter((e=>l.includes(e.source.id)&&l.includes(e.target.id))),s=[...new Set(s)],n=n.filter((e=>s.includes(e.id))),o=o.filter((e=>s.includes(e.source.id)&&s.includes(e.target.id))),""!==D.object.Search){let e=[],i=D.object.Search.replace(/[.*+?{}()[\]\\]/g,"\\$&"),t=new RegExp(i,"gi"),l=n.filter((e=>!!e.title.match(t))),r=o.filter((e=>!!e.title.match(t)));l.forEach((n=>{s.includes(n.id)&&e.push(n.id)})),l.forEach((n=>{n.neighbors.forEach((i=>{s.includes(n.id)&&e.push(i.id)}))})),r.forEach((n=>{s.includes(n.source.id)&&s.includes(n.target.id)&&e.push(n.source.id,n.target.id)})),e=[...new Set(e)],n=n.filter((n=>e.includes(n.id))),o=o.filter((n=>e.includes(n.source.id)&&e.includes(n.target.id)))}return{nodes:n,links:o}}function w(){m.linkWidth(m.linkWidth()).linkDirectionalParticles(m.linkDirectionalParticles())}i.forEach((e=>{p[e]=!0,v.add(p,e).listen().onChange((function(){let{nodes:e,links:n}=S();m.graphData({nodes:e,links:n}),m.numDimensions(p.Dimensions)}))}))}))}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var s=i[e]={exports:{}};return n[e].call(s.exports,s,s.exports,o),s.exports}o.m=n,e=[],o.O=(n,i,t,s)=>{if(!i){var l=1/0;for(c=0;c<e.length;c++){for(var[i,t,s]=e[c],r=!0,d=0;d<i.length;d++)(!1&s||l>=s)&&Object.keys(o.O).every((e=>o.O[e](i[d])))?i.splice(d--,1):(r=!1,s<l&&(l=s));if(r){e.splice(c--,1);var a=t();void 0!==a&&(n=a)}}return n}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[i,t,s]},o.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return o.d(n,{a:n}),n},o.d=(e,n)=>{for(var i in n)o.o(n,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},o.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={179:0};o.O.j=n=>0===e[n];var n=(n,i)=>{var t,s,[l,r,d]=i,a=0;if(l.some((n=>0!==e[n]))){for(t in r)o.o(r,t)&&(o.m[t]=r[t]);if(d)var c=d(o)}for(n&&n(i);a<l.length;a++)s=l[a],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(c)},i=self.webpackChunkinside_corona_angst_frei_ch=self.webpackChunkinside_corona_angst_frei_ch||[];i.forEach(n.bind(null,0)),i.push=n.bind(null,i.push.bind(i))})();var t=o.O(void 0,[566],(()=>o(8138)));t=o.O(t)})();